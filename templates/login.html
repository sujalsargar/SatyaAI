{% extends "base.html" %}
{% block title %}Sign in â€” TruthMate{% endblock %}

{% block content %}
<div class="auth-wrap">
  <div class="auth-card animate-fadeup">

    <h2 class="hero-title" style="margin-bottom: 6px;">Sign in</h2>

    <form class="auth-form" method="post" action="{{ url_for('login') }}">

      <!-- EMAIL -->
      <label class="field">
        <span class="field-icon">ğŸ“§</span>
        <input
          id="email"
          name="email"
          type="email"
          placeholder=" "
          autocomplete="email"
          required
        >
        <span class="floating-label">Email</span>
      </label>

      <!-- PASSWORD -->
      <label class="field password-field">
        <span class="field-icon">ğŸ”</span>
        <input
          id="password"
          name="password"
          type="password"
          placeholder=" "
          autocomplete="current-password"
          required
        >
        <span class="floating-label">Password</span>

        <!-- Show/Hide eye icon -->
        <button
          type="button"
          id="pw-toggle"
          class="pw-toggle-btn"
          aria-label="Show or hide password"
        >
          ğŸ‘ï¸
        </button>
      </label>

      <!-- Submit -->
      <button class="btn-verify" type="submit" style="width:100%; margin-top:10px;">
        Sign In
      </button>
    </form>

    <p class="muted" style="margin-top:16px; text-align:center;">
      Don't have an account?
      <a href="{{ url_for('signup') }}">Sign up</a>
    </p>

  </div>
</div>

<script>
(function() {
  const pwInput = document.getElementById("password");
  const toggle = document.getElementById("pw-toggle");

  toggle.addEventListener("click", function(e) {
    e.preventDefault();
    const isHidden = pwInput.type === "password";
    pwInput.type = isHidden ? "text" : "password";
    toggle.textContent = isHidden ? "ğŸ™ˆ" : "ğŸ‘ï¸";
  });
})();
</script>
{% endblock %}
